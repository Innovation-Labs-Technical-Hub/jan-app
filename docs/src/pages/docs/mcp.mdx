---
title: Model Context Protocol
description: Manage your interaction with AI locally.
keywords:
  [
    Jan,
    Customizable Intelligence, LLM,
    local AI,
    privacy focus,
    free and open source,
    private and offline,
    conversational AI,
    no-subscription fee,
    large language models,
    threads,
    chat history,
    thread history,
  ]
---
import { Callout, Steps } from 'nextra/components'

# Using the Model Context Protocol (MCP) in Jan

Jan now supports the **Model Context Protocol (MCP)**, an open standard designed to allow language models to
interact with external tools and data sources.

MCP acts as a common interface, standardizing the way an AI model requests to perform an action and how it
receives data from a tool. This enables a model to connect to any MCP-compliant tool without requiring custom integration work.

This document outlines the benefits, risks, and implementation of MCP within Jan.

## Core Benefits of MCP

Integrating MCP provides a structured way to extend the capabilities of the models you use in Jan. Here are the three


* **Standardization:** MCP aims to solve the "M x N" integration problem, where every model (M) needs a
unique connector for every tool (N). By adapting to a single standard, any compliant model can interface with any compliant tool.
* **Extensibility:** This allows you to augment your models with new abilities. For instance, an AI can be granted
access to search your local codebase, query a database, or interact with web APIs, all through the same protocol.
* **Flexibility:** Because the interface is standardized, you can swap out models or tools with minimal friction,
making your workflows more modular and adaptable over time.

<Callout type="warning">
    Please note that not all models that you can download and use, whether in Jan or other tools, may be good at
    tool calling or compatible with MCP. Make sure that the model you choose is MCP-compliant before integrating
    it into your workflows. This might be available in the model card or you may need to implement it yourself to
    test the capabilities of the model.
</Callout>

## Considerations and Risks

While powerful, MCP is an evolving standard, and its use requires careful consideration of the following points:

* **Security:** Granting a model access to external tools is a significant security consideration. A compromised
tool or a malicious prompt could potentially lead to unintended actions or data exposure. Jan's implementation
focuses on user-managed permissions to mitigate this risk, meaning, you have to turn on the permission for each
tool individually.
* **Standard Maturity:** As a relatively new protocol, best practices or sensible defaults are still being
established. Users should be aware of potential issues like prompt injection, where an input could be crafted to
misuse a tool's capabilities.
* **Resource Management:** Active MCP connections may consume a portion of a model's context window, which could
affect performance (i.e., the more tools the model and the larger the context of the conversationhas the longer
you will need to wait for a response). Efficient management of tools and their outputs is important.


## Configure and Use MCPs in Jan

We have integrated an MCP client into Jan to help users in connecting tools to their workflows.

### 0. Pre Setup

You will need to have `node` and/or `python` installed on your machine. If you don't have them installed, you can
download them from the official websites:
- [Node.js](https://nodejs.org/)
- [Python](https://www.python.org/)

### 1. Initial Setup

Before connecting to a tool, you must first enable Jan's MCP host. Navigate to `Settings` > `MCP Servers` and toggle
the `Enable MCP Host` switch.

![Turn on the MCP Host](./_assets/mcp-on.png)

### 2. Adding an MCP Server

Once the host is enabled, you can connect Jan to one or more MCP tool servers.

- Click on the `+` sign on the upper right-hand corner of the MCP box.

![Add New Server](./_assets/mcp-setup-1.png)

- Enter the following details to configure the BrowserMCP:
  - **Server Name**: `browsermcp`
  - **Command**: `npx`
  - **Arguments**: `@browsermcp/mcp`
  - **Environment Variables**: You can leave this field empty.

![Configure BrowserMCP](./_assets/mcp-setup-2.png)

- Check that the server has been activated successfully.

![Server Confirmation](./_assets/mcp-setup-3.png)


### 3. Using an MCP Tool in a Chat

With a server connected, models that support tool use can now request access to your configured MCP. As of now,
the best models to use MCP are Claude 4 Sonnet, 4 Opus

#### 3.1 Local Models

- Start a chat with a model capable of tool use and enable tool calling via the UI.


#### 3.2 Cloud-based Models

- Go to **Model Providers > Anthropic** and, after you have entered your API key, enable tool
calling via the UI.

![Enable Tool Calling](./_assets/mcp-setup-4.png)

- Open up a new chat with, say, Claude 4 Sonnet, and send a request that requires the model to use the browser.

![Start Chatting](./_assets/mcp-setup-5.png)


## Troubleshooting

[This is a place for you to add solutions to common problems. For example:]

* **Problem:** The MCP server appears as "Disconnected."
    * **Solution:** [Your troubleshooting steps here. e.g., "Verify the server address is correct and that the server is running on your machine. Check for firewall rules that may be blocking the connection..."]
* **Problem:** A model is not attempting to use any tools.
    * **Solution:** [Your troubleshooting steps here. e.g., "Ensure the model you are using supports tool-use. Not all models have this capability..."]


## Future Potential

This integration is the foundation for creating more capable and context-aware AI assistants within Jan. The long-term
goal is to enable complex workflows that leverage your local environment securely.

For example, an AI could cross-reference information between a local document and a remote API, or use a local script to
analyze data and then summarize the findings, all orchestrated through Jan's interface. As the MCP ecosystem grows, so
will the potential applications within Jan.
